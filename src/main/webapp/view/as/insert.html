<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script>	
	$(function(){
		
		$('#sCodeSearch').on("click",function(e){
			
			e.preventDefault();
			let popUrl = "../as/sCodeSearch";
			let popOption = "width = 650px, height=550px, top=300px, left=300px, scrollbars=yes";
			
			window.open(popUrl,"매장",popOption);
			
		});
		
		$('#pCodeSearch').on("click",function(e){
			
			e.preventDefault();
			let popUrl = "../as/pCodeSearch";
			let popOption = "width = 650px, height=550px, top=300px, left=300px, scrollbars=yes";
			
			window.open(popUrl,"품번",popOption);
			
		});
		
		
		$("#ok").click(function() {
			var essential = document.getElementsByClassName("essential");
			var ee = true;
			
			for (var i = 0; i < essential.length; i++) {
				if(!essential[i].value){
					ee = false;
					break;
				}
			}
			
			if (!ee) {
				alert('모두 작성해주세요.')
				return false;
			}else{
				return true;
			}
		});
	})
</script>
</head>
<body>
<section>
<h1>as 등록</h1>
<form action="insertReg" method="post" th:object="${dto}">
<div class="tableBox mb-3">
	<table class="table table-striped-columns">
		  <colgroup>
			<col style="" />
			<col style="" />
			<col style="" />
			<col style="" />
		  </colgroup>
		<thead>
		<tbody>
		   	<tr>
				<th class="table-dark top">고객명</th>
				<td><input class="essential" id="asName" type="text" name="asName"/></td>
				<th class="table-dark top">접수번호</th>
				<td><input class="essential" id="asNum" type="text" name="asNum" th:value="|AS${session.loginStore.sCode}${#dates.format(#dates.createNow(), 'yyMMddHHmmSS')}|" readonly/></td>
			</tr>
			<tr>
				<th class="table-dark top">고객연락처</th>
				<td><input class="essential" id="asTel" type="text" name="asTel"/></td>
				<th class="table-dark top">매장코드</th>
				<td><input class="essential" id="storeCode" type="text" name="sCode"/><button id="sCodeSearch">조회</button></td>
			</tr>
			<tr>
				<th class="table-dark top">구매날짜</th>
				<td><input class="essential" id="purDate" type="date" name="purDate"/></td>
				<th class="table-dark top">매장명</th>
				<td><input class="essential" id="storeName" type="text" name="sName"/></td>
			</tr>
			<tr>
				<th class="table-dark top">상품코드</th>
				<td><input class="essential" id="productCode" type="text" name="pCode"/><button id="pCodeSearch">조회</button></td>
				<th class="table-dark top">상품명</th>
				<td><input class="essential" id="productName" type="text" name="pName"/></td>
			</tr>
			<tr>
				<th class="table-dark top">의뢰내용</th>
				<td colspan="3"><textarea class="essential" id="asNote" rows="12" cols="120" name="asNote" style="resize:none;"></textarea></td>
			</tr>
		</tbody>
		 </thead>
	</table>
</div>
	<div class="row justify-content-end align-items-center">
		<div class="col-auto mb-3">				
			<input type="submit" value="접수" id="ok" class="btn btn-dark"/>
			<a href="/as/list" class="btn btn-dark">취소</a>
		</div>
	</div>
<!-- 

	<table border="">
		<thead>
		  <colgroup>
		    <col width="30%" />
		    <col width="70%" />
		  </colgroup>
 			<tr>
				<th>접수번호</th>
				<td><input class="essential" id="asNum" type="text" name="asNum" /></td>
			</tr>
			<tr>
				<th>매장코드</th>
				<td><input class="essential" id="storeCode" type="text" name="sCode"/><button id="sCodeSearch">조회</button></td>
			</tr>
			<tr>
				<th>매장명</th>
				<td><input class="essential" id="storeName" type="text" name="sName"/></td>
			</tr>
			<tr>
				<th>상품코드</th>
				<td><input class="essential" id="productCode" type="text" name="pCode"/><button id="pCodeSearch">조회</button></td>
			</tr>
			<tr>
				<th>상품명</th>
				<t><input class="essential" id="productName" type="text" name="pName"/></td>
			</tr>

			
			<tr>
				<td colspan="2" align="right">
					<input type="submit" value="접수" id="ok"/>
					<a href="/as/list">취소</a>
				</td>
			</tr>
		</thead>
	</table> -->
</form>
</section>
</body>
</html>